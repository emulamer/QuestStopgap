{
    "$schema": "http://json-schema.org/draft-07/schema",
    "title": "Assets Action",
    "description": "An action to perform within an assets mod component",
    "type": "object",
    "properties": {
        "PreloadFiles": {
            "title": "Preload Files",
            "description": "Asset files to preload for locating assets",
            "type": "array",
            "items": {
                "type": "string"
            },
            "minItems": 1
        },
        "Actions": {
            "title": "Actions",
            "description": "Actions to perform on the assets",
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "Type": {
                        "title": "Type",
                        "description": "Type of the action",
                        "type": "string",
                        "enum": [
                            "ReplaceAsset",
                            "RestoreAsset",
                            "CreateAsset",
                            "RemoveAsset"
                        ]
                    },
                    "StepNumber": {
                        "title": "StepNumber",
                        "description": "The index of the step to take",
                        "type": "integer",
                        "minimum": 1
                    },
                    "Locator": {
                        "title": "Locator",
                        "description": "How to locate the asset to perform the action on",
                        "type": "object",
                        "properties": {
                            "TypeIs": {
                                "$ref": "https://raw.githubusercontent.com/sc2ad/QuestStopgap/json_fix/QuestomAssets/AssetTypeSchema.json"
                            },
                            "NameIs": {
                                "title": "Name Is",
                                "description": "Describes a matching name. Uses the first match found",
                                "type": "string"
                            },
                            "PathIs": {
                                "title": "Path Is",
                                "description": "Describes a matching filename and PathID",
                                "type": "object",
                                "properties": {
                                    "AssetFilename": {
                                        "title": "Asset Filename",
                                        "description": "The filename of the asset",
                                        "type": "string"
                                    },
                                    "PathID": {
                                        "title": "PathID",
                                        "description": "The PathID of the asset",
                                        "type": "integer"
                                    }
                                }
                            }
                        },
                        "anyOf": [
                            {
                                "required": [
                                    "TypeIs"
                                ]
                            },
                            {
                                "required": [
                                    "NameIs"
                                ]
                            },
                            {
                                "required": [
                                    "PathIs"
                                ]
                            }
                        ]
                    },
                    "AllowOverwriteName": {
                        "title": "Allow Overwrite Name",
                        "description": "Whether to allow the name to be overwritten or not",
                        "type": "boolean",
                        "default": false
                    },
                    "FromDataFile": {
                        "title": "Data File",
                        "description": "The .dat file to load the asset from",
                        "type": "string"
                    },
                    "FileName": {
                        "title": "File Name",
                        "description": "The assets file to modify",
                        "type": "string"
                    },
                    "ClassID": {
                        "title": "Class ID",
                        "description": "Class ID of the asset to add, if AssetType is Unknown or Component",
                        "type": "integer"
                    },
                    "ScriptName": {
                        "title": "Script Name",
                        "description": "Script Name of the asset to add, if AssetType is MonoBehaviour",
                        "type": "string"
                    },
                    "AssetType": {
                        "$ref": "https://raw.githubusercontent.com/sc2ad/QuestStopgap/json_fix/QuestomAssets/AssetTypeSchema.json"
                    }
                }
            }
        }
    },
    "required": [
        "PreloadFiles",
        "Actions"
    ]
}