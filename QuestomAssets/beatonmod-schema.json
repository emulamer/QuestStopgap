{
    "$schema": "http://json-schema.org/draft-07/schema",
    "$id": "beatonmod",
    "$comment": "The BeatOn Mod Schema",
    "title": "BeatOn Mod",
    "type": "object",
    "properties": {
        "id": {
            "title": "ID",
            "description": "The ID of the mod",
            "type": "string",
            "pattern": "^[0-9A-Za-z-_]+$"
        },
        "name": {
            "title": "Name",
            "description": "The name of the mod",
            "type": "string",
            "pattern": "^[^\n\r\t]+$"
        },
        "porter": {
            "title": "Porter",
            "description": "The name of the person who ported the mod to Quest",
            "type": "string",
            "pattern": "^[^\n\r\t]+$"
        },
        "author": {
            "title": "Author",
            "description": "The author of the mod",
            "type": "string",
            "pattern": "^[^\n\r\t]+$"
        },
        "description": {
            "title": "Description",
            "description": "The description of the mod. Each line is separated by a newline",
            "type": "array",
            "items": {
                "type": "string",
                "pattern": "^[^\n\r]*$"
            }
        },
        "category": {
            "title": "Category",
            "description": "The category of the mod",
            "type": "string",
            "enum": [
                "Saber",
                "Gameplay",
                "Other"
            ]
        },
        "gameVersion": {
            "title": "Beat Saber Version",
            "description": "The Beat Saber Version for the mod",
            "type": "string",
            "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+([p-][0-9A-Za-z-.]+)?$"
        },
        "version": {
            "title": "Version",
            "description": "The version of the mod",
            "type": "string",
            "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+(-[0-9A-Za-z-.]+)?$"
        },
        "links": {
            "description": "Links of the mod",
            "type": "object",
            "properties": {
                "project-home": {
                    "type": "string",
                    "format": "uri",
                    "pattern": "^https?:\\/\\/.+$"
                }
            },
            "required": [
                "project-home"
            ]
        },
        "platform": {
            "type": "string",
            "enum": [
                "Quest"
            ]
        },
        "coverImageFilename": {
            "description": "The cover image's filename",
            "type": "string"
        },
        "CanUninstall": {
            "description": "Can the mod be uninstalled",
            "type": "boolean"
        },
        "components": {
            "title": "Components",
            "description": "Components of the mod",
            "type": "array",
            "items": {
                "type": "object",
                "if": {
                    "properties": {
                        "Type": {
                            "enum": ["AssetsMod"]
                        }
                    },
                    "required": ["Type"]
                },
                "then": {
                    
                },
                "else": {
                    "if": {
                        "properties": {
                            "Type": {
                                "enum": ["AssetsMod"]
                            }
                        },
                        "required": ["Type"]
                    },
                    "then": {
                        "properties": {
                            "InstallAction": {
                                "description": "The action to perform when installing the hook mod",
                                "type": "object",
                                "properties": {
                                    "InstallLibraryFile": {
                                        "description": "The library file to install",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "InstallLibraryFile"
                                ]
                            },
                            "UninstallAction": {
                                "description": "The action to perform when uninstalling the hook mod",
                                "type": "object",
                                "properties": {
                                    "RemoveLibraryFile": {
                                        "description": "The library file to uninstall",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "RemoveLibraryFile"
                                ]
                            }
                        }
                    }
                },
                "required": [
                    "Type",
                    "InstallAction",
                    "UninstallAction"
                ]
            }
        }
    },
    "required": [
        "id",
        "name",
        "author",
        "description",
        "category",
        "gameVersion",
        "version",
        "platform",
        "components"
    ]
}